



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Beatest Core Documentation">
      
      
        <link rel="canonical" href="http://beatest-docs.s3-website.ap-south-1.amazonaws.com/api-v0.1/Orders/index.html">
      
      
        <meta name="author" content="Harshvardhan Gupta">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.1">
    
    
      
        <title>Orders - Beatest Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../scss/customcss.css">
    
      <link rel="stylesheet" href="../../scss/uml.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#orders-apis" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://beatest-docs.s3-website.ap-south-1.amazonaws.com/" title="Beatest Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Beatest Docs
              </span>
              <span class="md-header-nav__topic">
                Orders
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../index.html" title="General" class="md-tabs__link">
        General
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../Guidelines/index.html" title="api-v0.1" class="md-tabs__link md-tabs__link--active">
          api-v0.1
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../rex/index.html" title="Rex" class="md-tabs__link">
          Rex
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../CASS/index.html" title="CASS" class="md-tabs__link">
          CASS
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Beatest Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="General" class="md-nav__link">
      General
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      api-v0.1
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        api-v0.1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Guidelines/index.html" title="Api Guidelines" class="md-nav__link">
      Api Guidelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Database/index.html" title="Database" class="md-nav__link">
      Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Colleges/index.html" title="Colleges" class="md-nav__link">
      Colleges
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Captcha/index.html" title="Captcha" class="md-nav__link">
      Captcha
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Courses/index.html" title="Courses" class="md-nav__link">
      Courses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Certificates/index.html" title="　 ↳ Certificates" class="md-nav__link">
      　 ↳ Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Instructors/index.html" title="　 ↳ Instructors" class="md-nav__link">
      　 ↳ Instructors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Discourse/index.html" title="Discourse" class="md-nav__link">
      Discourse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FileUploads/index.html" title="File Uploads" class="md-nav__link">
      File Uploads
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Orders
      </label>
    
    <a href="index.html" title="Orders" class="md-nav__link md-nav__link--active">
      Orders
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#database-table" title="Database Table" class="md-nav__link">
    Database Table
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-process" title="Order Process" class="md-nav__link">
    Order Process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" title="API Reference" class="md-nav__link">
    API Reference
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-user-orders" title="Get User Orders" class="md-nav__link">
    Get User Orders
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supported-query-params" title="Supported Query Params" class="md-nav__link">
    Supported Query Params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-user-order" title="Get User Order" class="md-nav__link">
    Get User Order
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response_1" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-user-order" title="Create User Order" class="md-nav__link">
    Create User Order
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#info" title="Info" class="md-nav__link">
    Info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_2" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel-order" title="Cancel Order" class="md-nav__link">
    Cancel Order
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-order-payment-status" title="Update Order - Payment Status" class="md-nav__link">
    Update Order - Payment Status
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#info_1" title="Info" class="md-nav__link">
    Info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_3" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../PromoCodes/index.html" title="Promo Codes" class="md-nav__link">
      Promo Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Tests/index.html" title="Tests" class="md-nav__link">
      Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Questions/index.html" title="　 ↳ Questions" class="md-nav__link">
      　 ↳ Questions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../QuestionAttempts/index.html" title="　 ↳ Question Attempts" class="md-nav__link">
      　 ↳ Question Attempts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Sections/index.html" title="　 ↳ Sections" class="md-nav__link">
      　 ↳ Sections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SectionAttempts/index.html" title="　 ↳ Section Attempts" class="md-nav__link">
      　 ↳ Section Attempts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../TestAttempts/index.html" title="　 ↳ Test Attempts" class="md-nav__link">
      　 ↳ Test Attempts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../TestAnalysis/index.html" title="　 ↳ Test Analysis" class="md-nav__link">
      　 ↳ Test Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../TimeTrack(Pinger)/index.html" title="　 ↳ Time Track(Pinger)" class="md-nav__link">
      　 ↳ Time Track(Pinger)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Users/index.html" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Misc/index.html" title="Miscellaneous" class="md-nav__link">
      Miscellaneous
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Rex
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Rex
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../rex/index.html" title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../rex/TestAttempts/index.html" title="TestAttempts" class="md-nav__link">
      TestAttempts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../rex/Applications/index.html" title="Applications" class="md-nav__link">
      Applications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      CASS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        CASS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CASS/index.html" title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CASS/run/index.html" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#database-table" title="Database Table" class="md-nav__link">
    Database Table
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-process" title="Order Process" class="md-nav__link">
    Order Process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" title="API Reference" class="md-nav__link">
    API Reference
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-user-orders" title="Get User Orders" class="md-nav__link">
    Get User Orders
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supported-query-params" title="Supported Query Params" class="md-nav__link">
    Supported Query Params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-user-order" title="Get User Order" class="md-nav__link">
    Get User Order
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response_1" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-user-order" title="Create User Order" class="md-nav__link">
    Create User Order
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#info" title="Info" class="md-nav__link">
    Info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_2" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel-order" title="Cancel Order" class="md-nav__link">
    Cancel Order
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-order-payment-status" title="Update Order - Payment Status" class="md-nav__link">
    Update Order - Payment Status
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#info_1" title="Info" class="md-nav__link">
    Info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_3" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="orders-apis">Orders APIs<a class="headerlink" href="#orders-apis" title="Permanent link">&para;</a></h1>
<p>An Order is the fundamental method with which a User can buy products from 
Beatest. We use Razorpay as our Payment provider.</p>
<h2 id="database-table">Database Table<a class="headerlink" href="#database-table" title="Permanent link">&para;</a></h2>
<p>Colleges will be represented in the database like below</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td><code class="codehilite">int (PK)</code></td>
<td>Unique Identifier for Order</td>
</tr>
<tr>
<td>rp_order_id</td>
<td><code class="codehilite">string, Unique</code></td>
<td>Razorpay Order ID</td>
</tr>
<tr>
<td>status</td>
<td><code class="codehilite">(Enum)</code></td>
<td>Razorpay Order Status</td>
</tr>
<tr>
<td>amount</td>
<td><code class="codehilite">Float</code></td>
<td>Order Amount (After promo code was applied)</td>
</tr>
<tr>
<td>promo_code_id</td>
<td><code class="codehilite">int</code></td>
<td>FK to id in Promo Code table</td>
</tr>
<tr>
<td>user_id</td>
<td><code class="codehilite">int</code></td>
<td>FK to id in User table</td>
</tr>
<tr>
<td>created_date</td>
<td><code class="codehilite">datetime</code></td>
<td>Order Creation date</td>
</tr>
<tr>
<td>updated_date</td>
<td><code class="codehilite">datetime</code></td>
<td>Order Update date (Status changes)</td>
</tr>
</tbody>
</table>
<p><strong><code class="codehilite">Status Type</code></strong></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>created</td>
<td>Order has been freshly created</td>
</tr>
<tr>
<td>attempted</td>
<td>Payment was attempted, but did not succeed</td>
</tr>
<tr>
<td>paid</td>
<td>Payment successfully fulfilled</td>
</tr>
<tr>
<td>cancelled</td>
<td>Payment was cancelled (Can only be cancelled if not Paid)</td>
</tr>
</tbody>
</table>
<h2 id="order-process">Order Process<a class="headerlink" href="#order-process" title="Permanent link">&para;</a></h2>
<p>Ordering a collection of Items involves Two steps: Order Creation and Status Update. 
The Order Creation step is as follows. 
<pre class="render-diagram"><code>sequenceDiagram
participant client
participant Beatest
participant Database
participant RazorPay

client-&gt;&gt;Beatest:    Request new Order
Beatest-&gt;&gt;Database:  Calculate amount &amp; Create New Order
Beatest-&gt;&gt;RazorPay:  Request new Razorpay Order
RazorPay--&gt;&gt;Beatest: Get Unique Razorpay Order id
Beatest-&gt;&gt;Database:  Update Order with  Razorpay Order id
Beatest--&gt;&gt;client:  Return Order Id &amp; Razorpay Order id
client-&gt;&gt;RazorPay: Make payment using Razorpay Order id</code></pre>
After making an Order, the User needs to inform Beatest that he has made a Payment.
Beatest will then check if that is true (if money was successfully transferred).</p>
<p>If it is true, then the Order status will be set to paid.</p>
<p>The Order Status update step is as follows:
<pre class="render-diagram"><code>sequenceDiagram
participant client
participant Beatest
participant Database
participant RazorPay

client-&gt;&gt;Beatest: Request Order Status Update
Beatest-&gt;&gt;RazorPay: Request Order status Update
RazorPay--&gt;&gt;Beatest: Return Order Status
Beatest-&gt;&gt;Database: Update new Order status

Beatest--&gt;&gt;client: Return new Order Status
</code></pre></p>
<h2 id="api-reference">API Reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h2>
<h3 id="get-user-orders">Get User Orders <img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/3.1/png/64/2705.png" title=":white_check_mark:" /><a class="headerlink" href="#get-user-orders" title="Permanent link">&para;</a></h3>
<p>Get list of Orders for a User. Status based filter is allowed.</p>
<div class="admonition get_req">
<p class="admonition-title"><code class="codehilite"><span class="err">GET /orders</span></code></p>
<h5 id="supported-query-params">Supported Query Params<a class="headerlink" href="#supported-query-params" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td><code class="codehilite">string</code> Order's Payment status</td>
</tr>
</tbody>
</table>
<h5 id="response">Response<a class="headerlink" href="#response" title="Permanent link">&para;</a></h5>
<p>The response structure is the same as 
<code class="codehilite"><span class="err">GET /orders/:id</span></code>. The difference is that in this case, an array of orders
will be returned.
<div class="codehilite"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nt">&quot;rp_order_id&quot;</span><span class="p">:</span> <span class="s2">&quot;order_1928393&quot;</span><span class="p">,</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;created&quot;</span><span class="p">,</span>
        <span class="nt">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">100.00</span><span class="p">,</span>
        <span class="nt">&quot;created_date&quot;</span><span class="p">:</span> <span class="s2">&quot;23/02/2018&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tests&quot;</span><span class="p">:</span> <span class="p">[</span>
                     <span class="p">{</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">21</span> <span class="p">},</span>
                     <span class="p">{</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">81</span><span class="p">}</span>
                 <span class="p">],</span>
        <span class="nt">&quot;courses&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
        <span class="nt">&quot;rp_order_id&quot;</span><span class="p">:</span> <span class="s2">&quot;order_19281293&quot;</span><span class="p">,</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;created&quot;</span><span class="p">,</span>
        <span class="nt">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">100.00</span><span class="p">,</span>
        <span class="nt">&quot;created_date&quot;</span><span class="p">:</span> <span class="s2">&quot;23/02/2018&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tests&quot;</span><span class="p">:</span> <span class="p">[</span>
                     <span class="p">{</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">21</span> <span class="p">},</span>
                     <span class="p">{</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">81</span><span class="p">}</span>
                 <span class="p">],</span>
        <span class="nt">&quot;courses&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div></p>
</div>
<h3 id="get-user-order">Get User Order <img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/3.1/png/64/2705.png" title=":white_check_mark:" /><a class="headerlink" href="#get-user-order" title="Permanent link">&para;</a></h3>
<p>Get Details for a single User.</p>
<div class="admonition get_req">
<p class="admonition-title"><code class="codehilite"><span class="err">GET /orders/:id</span></code></p>
<p><code class="codehilite">id</code> &rarr; identifier for the order </p>
<h5 id="response_1">Response<a class="headerlink" href="#response_1" title="Permanent link">&para;</a></h5>
<p>Apart from standard keys , the response will also contain
<code class="codehilite">tests</code> and <code class="codehilite">courses</code>. If the order had no tests or courses,
that particular key will have an empty array.
The keys will be an array of objects, with only the <code class="codehilite">id</code> key of each object
present.
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;rp_order_id&quot;</span><span class="p">:</span> <span class="s2">&quot;order_1928393&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;paid&quot;</span><span class="p">,</span>
    <span class="nt">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">100.00</span><span class="p">,</span>
    <span class="nt">&quot;promo_code_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;user_id&quot;</span><span class="p">:</span> <span class="mi">137</span><span class="p">,</span>
    <span class="nt">&quot;created_date&quot;</span><span class="p">:</span> <span class="s2">&quot;23/02/2018&quot;</span><span class="p">,</span>
    <span class="nt">&quot;updated_date&quot;</span><span class="p">:</span> <span class="s2">&quot;24/02/2018&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tests&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="p">{</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">21</span> <span class="p">},</span>
                  <span class="p">{</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">81</span><span class="p">}</span>
              <span class="p">],</span>
    <span class="nt">&quot;courses&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div></p>
</div>
<h3 id="create-user-order">Create User Order <img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/3.1/png/64/2705.png" title=":white_check_mark:" /><a class="headerlink" href="#create-user-order" title="Permanent link">&para;</a></h3>
<p><strong>Order creation will do the following:</strong></p>
<ol>
<li>Calculate Total Amount of Items (Tests, Courses, etc.)</li>
<li>If <a href="../PromoCodes/index.html">promo code</a> is provided, validate it, and subtract the amount
associated with it.</li>
<li>Create Razorpay Order ID and Insert Order</li>
<li>Store Order ID and Item ID in the respective Item Order table</li>
</ol>
<p>e.g., Test IDs will be stored in OrderTest table against the generated Order ID</p>
<div class="admonition post_req">
<p class="admonition-title"><code class="codehilite"><span class="err">POST /orders</span></code></p>
<h5 id="info">Info<a class="headerlink" href="#info" title="Permanent link">&para;</a></h5>
<p>Order will be created with Razorpay and passed back to Client. This will be
used by Client to accept User's payment. Once paid, below endpoint will be
called by Client to notify server about payment &amp; to do verification.</p>
<h5 id="request">Request<a class="headerlink" href="#request" title="Permanent link">&para;</a></h5>
<p>The request requires either the <code class="codehilite">tests</code> or <code class="codehilite">courses</code> (or both) to be present.
If they are present, they must be a list containing the ids for the item that 
the user wants to purchase.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;tests&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
    <span class="nt">&quot;promo_code&quot;</span><span class="p">:</span> <span class="s2">&quot;BTT01&quot;</span>
<span class="p">}</span>
</pre></div>

<h5 id="response_2">Response<a class="headerlink" href="#response_2" title="Permanent link">&para;</a></h5>
<p><div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;rp_order_id&quot;</span><span class="p">:</span> <span class="s2">&quot;order_1928393&quot;</span>
<span class="p">}</span>
</pre></div>
<code class="codehilite">HTTP 200</code> Order created <br/>
<code class="codehilite">HTTP 400</code> Order failed - Invalid PromoCode (any other reason?)</p>
</div>
<h3 id="cancel-order">Cancel Order <img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/3.1/png/64/2705.png" title=":white_check_mark:" /><a class="headerlink" href="#cancel-order" title="Permanent link">&para;</a></h3>
<p>A user has the option to cancel an order that he has placed. 
He can only cancel an Order if it is not marked as paid.</p>
<div class="admonition post_req">
<p class="admonition-title"><code class="codehilite"><span class="err">POST /orders/:id/cancel</span></code></p>
</div>
<h3 id="update-order-payment-status">Update Order - Payment Status <img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/3.1/png/64/2705.png" title=":white_check_mark:" /><a class="headerlink" href="#update-order-payment-status" title="Permanent link">&para;</a></h3>
<p>After the Order is created, the User proceeds to paying using his bank details.
After successful payment , the User inform Beatest server that payment has been
made. Beatest server will then check if thats true , and if it is, the order
status will be set to paid.</p>
<h6 id="info_1">Info<a class="headerlink" href="#info_1" title="Permanent link">&para;</a></h6>
<p>If status of Order is paid then, User will be able to access all items that he
paid for.</p>
<div class="admonition post_req">
<p class="admonition-title"><code class="codehilite"><span class="err">PUT /orders/:rp_order_id/status</span></code></p>
<p><code class="codehilite">rp_order_id</code> -&gt; the razor pay order id that was received during order 
creation</p>
<h5 id="response_3">Response<a class="headerlink" href="#response_3" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;paid&quot;</span>  <span class="err">#</span> <span class="err">returns</span> <span class="err">the</span> <span class="err">updated</span> <span class="err">status</span>
<span class="p">}</span>
</pre></div>

</div>
<p>If the new updated status is <code class="codehilite">paid</code>, a signal to <a href="../Discourse/index.html">Discourse</a> is sent to allow the user 
access to all the course forums (if any).</p>
                
                  
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "http://beatest-docs.s3-website.ap-south-1.amazonaws.com/api-v0.1/Orders/index.html";
      this.page.identifier =
        "api-v0.1/Orders/index.html";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//docs-beatest-in.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../FileUploads/index.html" title="File Uploads" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                File Uploads
              </span>
            </div>
          </a>
        
        
          <a href="../PromoCodes/index.html" title="Promo Codes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Promo Codes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../.."}})</script>
      
        <script src="https://unpkg.com/mermaid@8.0.0-beta.2/dist/mermaid.min.js"></script>
      
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../../js/uml-loader.js"></script>
      
    
    
      
    
  </body>
</html>